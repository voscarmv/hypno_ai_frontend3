# 🌀 Hypno AI Frontend

**A React application powered by Redux and Redux Saga, serving as the frontend for the Hypno AI backend.** This app enables users to create threads, send messages, initiate runs, and download synthesized audio files.

---

## 🚀 Features

- **Thread Management**: Create and manage conversation threads with the AI assistant.
- **Message Handling**: Send and receive messages within threads.
- **Run Initiation**: Trigger AI assistant runs and monitor their status.
- **Audio Synthesis**: Download synthesized audio files generated by the AI assistant.
- **State Management**: Utilizes Redux for state management and Redux Saga for handling side effects.

---

## 🧱 Project Structure

```
hypno-ai-frontend/
├── public/
├── src/
│   ├── api/               # API interaction functions
│   ├── components/        # Reusable UI components
│   ├── store/
│   │   ├── chatSlice.js/  # Redux reducers
│   │   ├── sagas/         # Redux Saga watchers and workers
│   │   └── index.js       # Redux store configuration
│   ├── App.js             # Main application component
│   └── index.js           # Application entry point
├── .env                   # Environment variables
├── package.json
└── README.md
```

---

## ⚙️ Getting Started

### Prerequisites

- **Node.js** (v14 or higher)
- **npm** (v6 or higher)

### Installation

1. **Clone the repository:**

   ```bash
   git clone https://github.com/yourusername/hypno-ai-frontend.git
   cd hypno-ai-frontend
   ```

2. **Install dependencies:**

   ```bash
   npm install
   ```

3. **Configure environment variables:**

   - Create a `.env` file in the root directory.
   - Add the following variables:

     ```
     REACT_APP_SERVER_URL=https://hypno-api-vercel.vercel.app
     ```

4. **Start the development server:**

   ```bash
   npm start
   ```

   The application will run at `http://localhost:3000`.

---

## 🔌 API Endpoints

The frontend communicates with the Hypno AI backend via the following endpoints:

- **Create Thread**: `GET /thread`
- **Send Message**: `POST /thread/:threadid/message`
- **Initiate Run**: `GET /thread/:threadid/run`
- **Check Run Status**: `GET /thread/:threadid/run/:runid/status`
- **Get Messages**: `GET /messages/:threadid`
- **Check Operation Status**: `GET /operation/:operationname/status`
- **Download Audio**: `GET /download/:threadid`

---

## 🧠 Redux Saga Flow

Redux Saga is utilized to handle asynchronous operations:

1. **Action Dispatch**: User interactions dispatch actions (e.g., `INITIALIZE_THREAD`).
2. **Saga Interception**: Sagas intercept these actions using `takeLatest` or `takeEvery`.
3. **API Calls**: Sagas perform API calls using `call` and dispatch success or failure actions using `put`.
4. **State Update**: Reducers update the state based on the dispatched actions.

This flow ensures a clear separation between action dispatching, side-effect management, and state updates.

---

## 🛠️ Available Scripts

- **Start Development Server**:

  ```bash
  npm start
  ```

- **Build for Production**:

  ```bash
  npm run build
  ```

- **Run Tests**:

  ```bash
  npm test
  ```

---

## 📦 Dependencies

- **React**: Frontend library for building user interfaces.
- **Redux**: State management library.
- **Redux Saga**: Middleware for handling side effects.
- **Axios**: Promise-based HTTP client for the browser.

---

## 🧪 Testing

Tests are written using Jest and React Testing Library. To run tests:

```bash
npm test
```

Ensure that components and sagas are covered with appropriate test cases.

---

## 📄 License

This project is licensed under the [MIT License](LICENSE).

---

## 🙏 Acknowledgments

- [Redux Saga Documentation](https://redux-saga.js.org/)
- [React Redux](https://react-redux.js.org/)
- [Axios](https://axios-http.com/)
